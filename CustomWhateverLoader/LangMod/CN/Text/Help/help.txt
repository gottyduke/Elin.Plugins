$更新日志
{image,CWL_banner_en}






{image,CWL_real}











{topic|1.20.48}
更新了 23.202 Nightly 添加的修改
为非脚本类能力启用了自定义元素功能(信仰能力触发喊叫, 自定义图标)
添加了角色能力检查补丁, 用于处理卸载 Mod 后触发的报错
添加了对自定义信仰额外奖励等级的支持, 允许在第二级奖励之后设置更多奖励等级
进行了多项API重构
为工作簿导入器添加了源表缓存, 可配置保留期限, 默认 7 日 或 CWL 更新后
将 CWL 弹出窗口实现更改为 IMGUI

{topic|1.20.47}
更新了 23.200 Stable 添加的修改
修复了自定义商人库存不能正常生成法术类型商品的问题
添加了对自定义信仰的自定义供奉倍数的支持
添加了控制台命令 cwl.data.load_religion_offerings 用于重载自定义供奉倍数
添加了控制台命令 cwl.spawn_altar 用于生成指定信仰的祭坛由于测试
添加了不兼容补丁信息至异常分析以帮助查找不兼容的 Mod
启用了多版本 CWL 警告
修复了方法缓存可能拥有相同的元标记的问题
添加了对 CwlContextMenu 的 LangGeneral 条目支持

{topic|1.20.46}
修复了 AddActor 补丁的部分逻辑
添加了检查到另一版本的CWL时的警告信息
添加了字符串数组的逐元素单元格处理
修改了 ModIntegrity 检查的信息格式
剧情拓展:
・添加了 if_has_item(itemId, valueExpression)
・添加了 if_hostility(hostilityExpression)
・添加了 if_in_party()
・添加了 move_to(x, y)
・添加了 console_cmd(...)
添加了控制台命令 cwl.data.load_sources 用于重新加载源表
添加了控制台命令 cwl.enable_debug 用于启用 Debug 模式
添加了自动激活作弊模式
添加了自动初始化控制台重建功能
添加了新的无效 Hobby 过滤补丁
移除了临时的 Transaction.IDCurrency 字符串转化补丁(Elin已集成此修复)
添加了Mod角色数据恢复功能
修复了Mod角色的标本渲染问题(感谢Custom Mob Figure)
修复了异常分析中部分程序集没有正确显示名称的问题
修改了异常分析中剧情演出错误显示，现在显示内部异常，以避免混淆

{topic|1.20.45}
更新了 23.187 Stable 添加的修改
为拥有独特对话的动物添加了正常的条件检查
修复了一个异常分析格式化文本的问题
添加了一个暂时修复特定语言环境下 IDCurrency 转换失效的补丁
添加了缺失方法异常的额外文本
添加了控制台命令 cwl.data.clear_effect_cache 用于热重载特效
将不兼容源表的默认值从原ID值改为默认值

$控制台命令

{topic|常规}

{pair|cwl.spawn|测试生成一个已加载CWL角色}
{pair|cwl.enable_debug|为Elin启用调试模式}
{pair|cwl.remove_every|根据ID从全局角色列表中移除所有对应角色}
{pair|cwl.add_figures|添加指定ID角色的标本和卡片}
{pair|cwl.spawn_altar|生成指定信仰的祭坛}

{topic|数据加载器}

{pair|cwl.data.load_sources|重新加载所有LangMod/**/源数据表}
{pair|cwl.data.load_dialog|重新加载所有Dialog/dialog.xlsx}
{pair|cwl.data.load_effect_setting|重新加载所有Data/EffectSetting.guns.json}
{pair|cwl.data.load_god_talk|重新加载所有Data/god_talk.xlsx}
{pair|cwl.data.load_religion_elements|重新加载所有Data/religion_elements.json}
{pair|cwl.data.load_religion_offerings|重新加载所有Data/religion_offerings.json}
{pair|cwl.data.load_sound|预加载Sound/文件夹内所有音频数据}
{pair|cwl.data.clear_effect_cache|清除所有缓存的特效}
{pair|cwl.data.clear_sound_cache|清除所有预加载的音频数据}
{pair|cwl.data.clear_source_cache|清除所有生成的源表缓存}
{pair|cwl.data.clear_path_cache|清除所有缓存的重定位路径}

{topic|BGM播放列表}

{pair|cwl.bgm.clear_cache|清空内部播放列表缓存}
{pair|cwl.bgm.reimport|重建所有BGM索引}
{pair|cwl.bgm.rebuild|重建所有BGM播放列表}
{pair|cwl.bgm.view|启用BGM面板}
{pair|cwl.bgm.hide|禁用BGM面板}
{pair|cwl.bgm.next|播放列表中下一首BGM}
{pair|cwl.bgm.last|播放列表中上一首BGM}
{pair|cwl.bgm.shuffle|随机打乱BGM播放列表}
{pair|cwl.bgm.addKnown|将当前播放列表中的BGM设为已知}
{pair|cwl.bgm.dump|导出Elin中所有自带的播放列表}

{topic|商人系统}

{pair|cwl.stock.add|为指定ID角色添加库存文件}
{pair|cwl.stock.clear|清除指定ID角色的库存文件}

{topic|剧情扩展}

{pair|cwl.dm.build_action_list|重建所有剧情扩展方法}
{pair|cwl.dm.dump_action_list|导出所有剧情扩展方法}

{topic|调试}

{pair|cwl.stub.view|启用采样器面板}
{pair|cwl.stub.hide|禁用采样器面板}
{pair|cwl.stub.clear|重置所有采样数据}
{pair|cwl.stub.attach|为方法附加采样器}
{pair|cwl.stub.detach|删除指定或全部采样器}
{pair|cwl.stub.spawn|在地图中持续生成指定数量的随机角色}
{pair|cwl.stub.dump|将采样数据导出为csv格式}