$Changelogs
{image,CWL_banner_en}






{image,CWL_real}











{topic|1.20.54}
Updated for 23.229 Stable
Fixed file path checking
Fixed incompatible method detection code
Added extra comments for source table parsing errors
Fixed deferred character restoration
Allow custom religions to use custom types
Added type resolver for custom religion types
Optimized exception analysis parsing code
Removed console shortcut key
Happy 1st Anniversary!

{topic|1.20.53}
Updated for 23.224 Nightly
Added modded Work invalidator
Added FileWatcherHelper
Made logging thread safe
Fixed incompatible stub methods

{topic|1.20.52}
Updated for 23.221 Nightly
Updated PackageIterator with a new extension API
Updated ConfigCereal with a new extension API
Updated GameIOProcessor.GameIOContext with a new extension API
Allowed methods annotated with the CwlLoadEvent attribute to omit GameIOContext parameter
Updated miscellaneous helpers
Updated file helpers
Fixed potential null cache bug?

{topic|1.20.51}
Updated for 23.214 Nightly
Removed support for the Chara humanSpeak tag (added by Elin in the 23.214 Nightly)
Removed support for the Chara bio/? gender (added by Elin in the 23.214 Nightly)

{topic|1.20.50}
Updated for 23.210 Nightly
Added support for new instrument's custom tracks
Added safe retrieval patch for race_row from Chara rows
Added zone spawning helpers
Added console command cwl.spawn_zone for spawning zones
Added console command cwl.get_pos to retrieve the current position and elomap coordinates
Added console command cwl.identify to identify all items
Added console pipe server at \\.\pipe\Elin\Console

{topic|1.20.49}
Updated for 23.209 Stable
Added support for humanSpeak tag in Chara sheet
Fixed potential GUI skin problem
Added console support in main menu by pressing backquote (`)
Added extended gun effect data support
Added support for custom religion portraits in journal
Added support for specifying gun sockets in Thing sheet
Fixed a bug occurs during gun play
Fixed a faulty gun socket removal bug

{topic|1.20.48}
Updated for 23.202 Nightly
Enabled custom element feature(god ability talk proc, custom icon sprite) for non-scripted classes
Enabled CharaAbility invalidator
Added support for extended custom religion gift ranks, allowing multiple ranks above tier 2
Various API refactor
Added source sheet caching to workbook importer, retention period configurable
Changed CWL progress indicator popup implementation to IMGUI
Added support for ? gender in Chara bio column
Added controls to BGM panel
Fixed a memory leak when IMGUI is open
Added warning popup to CharaAbility invalidator

{topic|1.20.47}
Updated for 23.200 Stable
Fixed a bug where custom merchant stock won't generate spell books
Added support for custom offering multipliers for custom religions
Added console command cwl.data.load_religion_offerings to reload custom offering multipliers
Added console command cwl.spawn_altar to spawn an altar for a specified religion for testing purposes
Added incompatible patch detection to exception profile to help diagnose outdated mods
Enabled duplicate CWL version warning
Fixed a bug where methods can have the same metadata token when used for invoker indexing
Added support for LangGeneral usage in CwlContextMenu

{topic|1.20.46}
Fixed some logic in the AddActor patch
Added a warning message when another version of CWL is detected
Added cell processor for each element in string array parser
Modified the message format in ModIntegrity check
Drama Expansion:
・Added if_has_item(itemId, valueExpression)
・Added if_hostility(hostilityExpression)
・Added if_in_party()
・Added move_to(x, y)
・Added console_cmd(...)
Added console command cwl.data.load_sources for source sheets reload
Added console command cwl.enable_debug to toggle Debug mode
Added automatic activation of cheat mode
Added automatic initialization of console rebuild
Added a prefilter for modded Hobby
Removed Transaction.IDCurrency invariant string temp patch (Elin has integrated this fix)
Added mod character data restoration feature
Fixed a bug where mod character figures cannot be rendered (thanks, Custom Mob Figure)
Fixed the issue where some assemblies did not display their names correctly in exception profile
Fixed drama play error display to show inner exception instead to avoid confusion

{topic|1.20.45}
Updated for 23.188 Stable
Added condition check when talking with animals that have unique dialogs
Fixed a bug where log formatter could encounter invalid format string
Added a patch to temporarily address IDCurrency locale dependent ToLower bug
Added a slightly better log entry to the MissingMethodException popup
Added Effect hot reloading command cwl.data.clear_effect_cache
Changed fallback value for incompatible sheet from inplace id to empty default

$Console Commands

{topic|General}

{pair|cwl.spawn|Test spawn a CWL loaded chara}
{pair|cwl.enable_debug|Enable debug mode for Elin}
{pair|cwl.remove_every|Remove every chara with ID from global chara list}
{pair|cwl.add_figures|Add figure and card of chara with ID}
{pair|cwl.spawn_altar|Test spawn a CWL custom religion altar}

{topic|Data Loader}

{pair|cwl.data.load_sources|Reload all LangMod/**/ source sheets}
{pair|cwl.data.load_dialog|Reload all Dialog/dialog.xlsx}
{pair|cwl.data.load_effect_setting|Reload all Data/EffectSetting.guns.json}
{pair|cwl.data.load_god_talk|Reload all Data/god_talk.xlsx}
{pair|cwl.data.load_religion_elements|Reload all Data/religion_elements.json}
{pair|cwl.data.load_religion_offerings|Reload all Data/religion_offerings.json}
{pair|cwl.data.load_sound|Preload all sound data from Sound/ folder}
{pair|cwl.data.clear_effect_cache|Clear all cached Effects}
{pair|cwl.data.clear_sound_cache|Clear all preloaded sound data}
{pair|cwl.data.clear_source_cache|Clear all source cache blobs}
{pair|cwl.data.clear_path_cache|Clear all cached package path relocations}

{topic|BGM Playlist}

{pair|cwl.bgm.clear_cache|Clear internal playlist cache}
{pair|cwl.bgm.reimport|Rebuild all BGM indexes}
{pair|cwl.bgm.rebuild|Rebuild all BGM playlists}
{pair|cwl.bgm.view|Enable BGM panel}
{pair|cwl.bgm.hide|Disable BGM panel}
{pair|cwl.bgm.next|Play next BGM in playlist}
{pair|cwl.bgm.last|Play last BGM in playlist}
{pair|cwl.bgm.shuffle|Shuffle BGM playlist}
{pair|cwl.bgm.addKnown|Set BGM from current playlist as known}
{pair|cwl.bgm.dump|Export all bundled playlists from Elin}

{topic|Merchant}

{pair|cwl.stock.add|Add a stock file to a chara with ID}
{pair|cwl.stock.clear|Clear stock files from chara with ID}

{topic|Drama Expansion}

{pair|cwl.dm.build_action_list|Rebuild all Drama Expansion methods}
{pair|cwl.dm.dump_action_list|Export all Drama Expansion methods}

{topic|Debug}

{pair|cwl.stub.view|Enable sampler panel}
{pair|cwl.stub.hide|Disable sampler panel}
{pair|cwl.stub.clear|Reset all sampled data}
{pair|cwl.stub.attach|Attach a sampler to method}
{pair|cwl.stub.detach|Detach specific or all sampler(s)}
{pair|cwl.stub.spawn|Keep spawning random chara in the map with count}
{pair|cwl.stub.dump|Export sampled data as csv}